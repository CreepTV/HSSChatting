<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HSSChatting</title>
  <link rel="icon" type="image/png" sizes="32x32" href="/static/data/HSS_Chat_small.png" />
  <link rel="apple-touch-icon" href="/static/data/HSS_Chat_small.png" />
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand"><img src="/static/data/HSS-WikiLogo_TEXT_darkmode.png" alt="HSSChatting" class="brand-logo" /></div>
      <div class="user-info">Du: <img id="me-avatar" src="" alt="" /><strong id="me">-</strong></div>
      <div><strong>Online</strong></div>
      <div class="users" id="users"></div>
      <div class="tip">Tipp: Klick auf einen Nutzer, um einen privaten Chat zu öffnen.</div>

      <!-- Einstellungs-Button unten links -->
      <button id="settings-btn" aria-controls="settings-popup" aria-expanded="false" aria-label="Einstellungen">
        <span class="settings-icon" aria-hidden="true">&#9881;</span>
        <span class="sr-only">Einstellungen</span>
      </button>

      <!-- Popup für Einstellungen -->
      <div id="settings-popup" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="settings-dialog" role="document">
          <button id="close-settings" aria-label="Schließen">&times;</button>
          <div class="settings-title">Einstellungen</div>
          <div class="settings-row">
            <div class="avatar-col">
              <img id="avatar-preview" src="" alt="Vorschau" />
            </div>
            <div class="controls-col">
              <label for="avatar-file" class="avatar-label">Profilbild</label>
              <input id="avatar-file" type="file" accept="image/*" />
              <div class="avatar-buttons">
                <button id="upload-avatar">Hochladen</button>
                <button id="remove-avatar">Entfernen</button>
              </div>
            </div>
            </div> <!-- end controls-col -->
          </div> <!-- end settings-row -->
          <div class="settings-row">
            <label for="set-nick">Anzeigename</label>
            <div class="nick-row">
              <input id="set-nick" type="text" placeholder="Dein Name" />
              <button id="nick-clear" aria-label="Namen löschen">&times;</button>
            </div>
            <div class="nick-actions">
              <button id="save-nick">Speichern</button>
            </div>
          </div>
        </div> <!-- end settings-dialog -->
      </div> <!-- end settings-popup -->

      <main class="main">
        <div class="channels">
          <button class="channel-btn active" data-channel="all">Hauptchat <span class="badge hidden"></span></button>
        </div>
        <div class="chat">
          <div class="chat-header"><div id="channel-label">Hauptchat</div></div>
          <div id="messages" class="messages"></div>
          <div class="composer">
            <input id="msg" type="text" placeholder="Nachricht eingeben..." />
            <button id="send">Senden</button>
          </div>
        </div>
      </main>

  <script src="/static/script.js"></script>
</body>
</html>